(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{406:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var r=n(9008),a=n.n(r),o=n(4603),i=n.n(o),u=n(1163),s=function(e,t){var n;return function(){for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return n&&clearTimeout(n),new Promise(function(r){n=setTimeout(function(){return r(e.apply(void 0,a))},t)})}};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(){var e=null,t=(0,u.useRouter)(),n=t.query.q||"",r=localStorage.getItem("termType")||"Name",a=function(e){e.preventDefault()},o=function(n){n.preventDefault();var r=n.target,a=function(){var e=r.value;t.push({query:c(c({},t.query),{},{q:e})})};e||(e=s(a,450)),e()},i=function(e){localStorage.setItem("termType",e),t.push({query:c(c({},t.query),{},{termType:e})})},l=["Name","Species"].filter(function(e){return e!==r});return{onSearchSubmit:a,onChooseTermType:i,onSearchTerm:o,currentSearchedValue:n,currentTermTypeValue:r,menuOptions:l}},m=n(3678),d=n.n(m),h=n(7294),g=n(4184),v=n.n(g),y=n(9503),$=n.n(y);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,u=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(s){u=!0,r=s}finally{try{i||null==a.return||a.return()}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=function(){var e=b((0,h.useState)(!1),2),t=e[0],n=e[1],r=b((0,h.useState)(!1),2),a=r[0],o=r[1],i=(0,h.useRef)(null);return(0,h.useEffect)(function(){function e(e){i.current&&!i.current.contains(e.target)&&n(!1)}return o(!0),document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}},[i]),{ref:i,onMenuOpen:function(){return n(!t)},showMenu:t,showComponent:a}},_=function(e){var t,n,r,a=e.selectedOption,o=e.children,i=e.customClass,u=w(),s=u.ref,l=u.onMenuOpen,c=u.showMenu,f=u.showComponent;return h.createElement(h.Fragment,null,f&&h.createElement(h.Fragment,null,h.createElement("div",{ref:s,className:v()($().button,i),onClick:l},a,h.createElement(function(){return h.createElement("svg",{width:"8",height:"5",viewBox:"0 0 12 6",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M6 6L0 0H12L6 6Z",fill:"#AAAAAA"}))},null)),h.createElement("div",{className:v()($().menuOptions,(t={},n=$().showMenu,r=c,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},o)))},P=function(){var e=p(),t=e.onSearchSubmit,n=e.onChooseTermType,r=e.onSearchTerm,a=e.currentSearchedValue,o=e.currentTermTypeValue,i=e.menuOptions;return h.createElement("div",{className:d().searchBar},h.createElement("div",{className:d().termType},h.createElement(_,{selectedOption:"Filter by ".concat(o),customClass:v()(d().selectedOption)},i.map(function(e){return h.createElement("div",{className:d().typeOption,key:e,onClick:function(){return n(e)},"data-testid":"select-option-".concat(e)},e)}))),h.createElement("form",{onSubmit:function(e){return t(e)}},h.createElement("input",{onChange:function(e){return r(e)},id:"search",type:"text",name:"search",autoComplete:"off",placeholder:"Search...",defaultValue:a})))},S=n(5152),H=n.n(S),C=n(9669),O=n.n(C)().create({baseURL:"http://localhost:3000",timeout:15e3});function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,u=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(s){u=!0,r=s}finally{try{i||null==a.return||a.return()}finally{if(u)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=function(){var e=T((0,h.useState)({data:[],totalCount:[]}),2),t=e[0],r=e[1],a=T((0,h.useState)(!1),2),o=a[0],i=a[1],s=T((0,h.useState)(!1),2),l=s[0],c=s[1],f=(0,u.useRouter)(),p=f.query,m=p.termType,d=void 0===m?"name":m,g=p.sort,v=void 0===g?"asc":g,y=p.sortType,$=void 0===y?"name":y,b=p.page,E=void 0===b?1:b,w=p.pageSize,_=void 0===w?7:w,P=p.house,S=void 0===P?"gryffindor":P,C=f.isReady,N=(0,h.useCallback)(function(){c(!0),O.get("/api/hpHouses",{params:{query:null==p?void 0:p.q,termType:d,sort:v,sortType:$,page:E,pageSize:_,house:S}}).then(function(e){return r(e.data)}).catch(function(e){return i(e)}).finally(function(){return c(!1)})},[d,p,v,$,S,E,_]);return(0,h.useEffect)(function(){C&&N()},[N,C]),{Table:H()(function(){return Promise.all([n.e(79),n.e(492)]).then(n.bind(n,7492))},{ssr:!1}),isLoading:l,listData:t,error:!!o,onPageChange:function(e){var t=e.selected;return f.push({query:L(L({},f.query),{},{page:t+1})})},isReady:C}},D=n(5675),q=n.n(D),x={name:{value:"Name",isSortable:!0},alternate_names:{value:"Alternative names"},species:{value:"Species"},gender:{value:"Gender"},dateOfBirth:{value:"Date of Birth",isSortable:!0},patronus:{value:"Patronus"},alive:{value:"Alive",formatter:function(e){return e.item.alive?h.createElement(q(),{src:"/true-icon.svg",width:"12",height:"12",alt:"True icon"}):h.createElement(q(),{src:"/false-icon.svg",width:"12",height:"12",alt:"False icon"})}}},M=n(729),R=n.n(M);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){F(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=[{id:1,house:"Gryffindor",color:"red"},{id:2,house:"Ravenclaw",color:"blue"},{id:3,house:"Hufflepuff",color:"yellow"},{id:4,house:"Slytherin",color:"green"}],z=function(){var e,t=(0,u.useRouter)(),n=t.query.house||"Gryffindor",r=j.filter(function(e){return e.house!==n});return{selectedHouseColor:(null===(e=j.find(function(e){return e.house===n}))||void 0===e?void 0:e.color)||"red",selectedHouse:n,filteredHouses:r,isReady:t.isReady,onSelectHouse:function(e){var n=e.house;return t.push({query:B(B({},t.query),{},{house:n,page:1})})}}},X=function(){var e=z(),t=e.selectedHouseColor,n=e.selectedHouse,r=e.filteredHouses,a=e.onSelectHouse;return e.isReady,h.createElement("div",{className:R().housesWrapper},h.createElement(_,{selectedOption:n,customClass:v()(R().selectedHouse,R()[t])},r.map(function(e){var t=e.id,n=e.house,r=e.color;return h.createElement("button",{key:t,className:v()(R().houseButton,R()[r]),onClick:function(){return a({house:n})}},n)})))},G=n(1358),V=n.n(G),J=n(6247),U=n.n(J);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var K=function(e){var t,n=e.total,r=e.range,a=e.onPageChange,o=function(e){if(Array.isArray(e))return e}(t=(0,h.useState)(1))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,u=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(s){u=!0,r=s}finally{try{i||null==a.return||a.return()}finally{if(u)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],s=o[1],l=(0,u.useRouter)().query.page;return(0,h.useEffect)(function(){l&&s(Number(l))},[l]),h.createElement(V(),{nextLabel:">",previousLabel:"<",forcePage:i-1,onPageChange:a,pageRangeDisplayed:1,pageCount:Math.ceil(n/r),containerClassName:U().paginationWrapper,pageClassName:U().paginationItem,previousClassName:U().paginationItem,nextClassName:U().paginationItem,previousLinkClassName:U().paginationLinkItem,nextLinkClassName:U().paginationLinkItem,pageLinkClassName:U().paginationLinkItem,activeLinkClassName:U().activeItem,disabledLinkClassName:U().disabled})},Z=function(){var e,t,n=A(),r=n.Table,a=n.isLoading,o=n.listData,u=n.error,s=n.onPageChange,l=n.isReady;return h.createElement(h.Fragment,null,h.createElement("div",{className:i().container},h.createElement("div",{className:i().containerGrid},h.createElement("div",{className:i().header},h.createElement("div",{className:i().logo},h.createElement("div",{className:i().title},h.createElement(q(),{src:"/glasses.svg",width:"35",height:"17",alt:"Harry's glasses"}),"Harry Potter"),h.createElement("p",null,"houses \xa0list",h.createElement("img",{src:"/lightning.svg",width:"18",height:"18",alt:"Lightning"}))),l&&h.createElement(h.Fragment,null,h.createElement("div",{className:i().search},h.createElement(P,null)),h.createElement("div",{className:i().divider}),h.createElement("div",{className:i().house},h.createElement(X,null)))),a?h.createElement("div",{className:i().loaderWrapper},h.createElement("div",{className:i().loader})):u?h.createElement("div",{className:i().badServer},h.createElement(q(),{src:"/error-icon.svg",width:"200",height:"50",alt:"Internal Server Error"}),h.createElement("h4",null,"Oops! An error has occurred."),h.createElement("p",null,"Hang in there! We're working to fix the issues.")):h.createElement("div",{className:i().list},h.createElement(r,{categories:x,list:null!==(e=o.data)&&void 0!==e?e:[],customClass:i().tableColumnsWidth})))),h.createElement(K,{total:null===(t=o.totalCount)||void 0===t?void 0:t.length,range:7,onPageChange:s}))},Q=function(){return h.createElement(h.Fragment,null,h.createElement(a(),null,h.createElement("title",null,"Harry Potter Houses - Patr\xedcia Carvalho"),h.createElement("meta",{name:"description",content:"Harry Potter Houses - Patr\xedcia Carvalho"}),h.createElement("link",{rel:"icon",href:"/glasses.svg"})),h.createElement(Z,null))}},8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(406)}])},729:function(e){e.exports={housesWrapper:"Houses_housesWrapper__Y4LOa",selectedHouse:"Houses_selectedHouse__tnHkm",houseButton:"Houses_houseButton__nBeEc",red:"Houses_red__SbHN_",yellow:"Houses_yellow__T0c9P",blue:"Houses_blue__0ywCA",green:"Houses_green__5LJt1"}},4603:function(e){e.exports={container:"HousesList_container__l5YXm",containerGrid:"HousesList_containerGrid__otXJo",header:"HousesList_header__y2Yuq",logo:"HousesList_logo__gJLFd",title:"HousesList_title__X7gue",divider:"HousesList_divider__cNJFE",house:"HousesList_house__sbaUk",search:"HousesList_search__oj_cu",list:"HousesList_list__PHU8O",badServer:"HousesList_badServer__N_FzX",loaderWrapper:"HousesList_loaderWrapper__5om0T",loader:"HousesList_loader__qM1Ni",spin:"HousesList_spin__8blH_",tableColumnsWidth:"HousesList_tableColumnsWidth__WVa_6"}},9503:function(e){e.exports={button:"MenuDropdown_button__wa8rR",menuOptions:"MenuDropdown_menuOptions__Y9j7z",showMenu:"MenuDropdown_showMenu__fzA9V"}},6247:function(e){e.exports={paginationWrapper:"Pagination_paginationWrapper__HPjvl",paginationItem:"Pagination_paginationItem__tywzb",paginationLinkItem:"Pagination_paginationLinkItem__kXSAH",activeItem:"Pagination_activeItem__J4ejK",disabled:"Pagination_disabled__JaXNA"}},3678:function(e){e.exports={searchBar:"SearchBar_searchBar__1W25z",termType:"SearchBar_termType__p2hf1",selectedOption:"SearchBar_selectedOption__gMFzy",typeOption:"SearchBar_typeOption__YGLTq"}}},function(e){e.O(0,[384,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);